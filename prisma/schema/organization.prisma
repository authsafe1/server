model Organization {
    id                     String   @id @default(uuid())
    name                   String
    domain                 String   @unique
    email                  String   @unique
    isVerified             Boolean?
    verificationToken      String?  @unique
    password               String
    photo                  String?
    metadata               Json?
    logo                   String?
    plan                   Plan     @default(FREE)
    createdAt              DateTime @default(now())
    updatedAt              DateTime @updatedAt
    isTwoFactorAuthEnabled Boolean  @default(false)
    twoFactorSecret        String?

    Subscription     Subscription?
    Secret           Secret?
    Branding         Branding?
    EmailTemplates   EmailTemplate[]
    Webhooks         Webhook[]
    Users            User[]
    Clients          Client[]
    Roles            Role[]
    Permissions      Permission[]
    BackupCodes      BackupCode[]
    ActivityLogs     ActivityLog[]
    SecurityAlerts   SecurityAlert[]
    AuthorizationLog AuthorizationLog[]

    @@index([email, domain, createdAt, verificationToken])
}

enum Plan {
    FREE
    PROFESSIONAL
    ENTERPRISE
}
